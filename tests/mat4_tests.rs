extern crate sawd_glm as glm;

use glm::{Mat4, Vec4};


#[test]
fn mul(){
    let a: Mat4 = Mat4::mat4([
        1.0, 2.0, 3.0, 0.0,
        0.0, 2.0, 0.0, 0.0,
        0.0, 0.0, 3.0, 0.0,
        5.0, 0.0, 0.0, 1.0,
    ]);

    let b: Mat4 = Mat4::mat4([
        5.0, 0.0, 0.0, 0.0,
        0.0, 3.0, 0.0, 0.0,
        1.0, 0.0, 2.0, 0.0,
        0.0, 0.0, 0.0, 1.0,
    ]);

    let c:Mat4 = Mat4::mat4([
        1.0, 0.0, 0.0, 2.0,
        0.0, 1.0, 2.0, 0.0,
        0.0, 2.0, 1.0, 0.0,
        2.0, 0.0, 0.0, 1.0,
    ]);

    let v = Vec4::new(2.0, 3.0, 1.0, 3.0);
    let r1 = Mat4::mat4([
        5.0, 10.0, 15.0, 0.0,
        0.0, 6.0, 0.0, 0.0,
        1.0, 2.0, 9.0, 0.0,
        5.0, 0.0, 0.0, 1.0,
    ]);
    let r2 = Mat4::mat4([
        15.0, 10.0, 15.0, 2.0,
        2.0, 10.0, 18.0, 0.0,
        1.0, 14.0, 9.0, 0.0,
        15.0, 20.0, 30.0, 1.0,
    ]);
    let r3 = Vec4::new(17.0, 10.0, 9.0, 3.0);

    assert_eq!(a * b, r1);
    assert_eq!(a * b * c, r2);
    assert_eq!(a * v, r3);
}